function comprobarDevice(){windowWidth<="440"?Device="mobile":windowWidth<="920"?Device="tablet":windowWidth>"920"&&(Device="desktop")}function gGoto(e){0==$("#galyrian").is(":animated")?(e=parseInt(e),e>hereCount.length?console.log("No existen tantas imágenes en esta colección"):e<=0?console.log("Debes escribir una cantidad mayor que 0 (cero)"):($("#galyrian").animate({scrollLeft:(e-1)*stepLength},300),$("#controles").animate({left:(e-1)*stepLength+($("#galyrian").outerWidth()-$('img[src="'+hereCount[e-1].src+'"]').outerWidth())/2},300),gPos=e,$("#controles").animate({width:$('img[src="'+hereCount[gPos-1].src+'"]').outerWidth()},100),$("#caption").html("<h2>"+hereCount[gPos-1].titulo+"</h2><p>"+hereCount[gPos-1].descripcion+"</p>")),playing&&gRestart()):console.log("Aguarde a que la transición finalice.")}function gNext(){0==$("#galyrian").is(":animated")?(gPos==hereCount.length?(gGoto(1),gPos=1):($("#galyrian").animate({scrollLeft:gPos*stepLength},300),$("#controles").animate({left:gPos*stepLength+($("#galyrian").outerWidth()-$('img[src="'+hereCount[gPos].src+'"]').outerWidth())/2},300),$("#caption").html("<h2>"+hereCount[gPos].titulo+"</h2><p>"+hereCount[gPos].descripcion+"</p>"),gPos++,$("#controles").animate({width:$('img[src="'+hereCount[gPos-1].src+'"]').outerWidth()},100)),playing&&gRestart()):console.log("Aguarde a que la transición finalice.")}function gPrev(){0==$("#galyrian").is(":animated")?(1==gPos?(gGoto(hereCount.length),gPos=hereCount.length):($("#galyrian").animate({scrollLeft:(gPos-2)*stepLength},300),$("#controles").animate({left:(gPos-2)*stepLength+($("#galyrian").outerWidth()-$('img[src="'+hereCount[gPos-2].src+'"]').outerWidth())/2},300),$("#caption").html("<h2>"+hereCount[gPos-2].titulo+"</h2><p>"+hereCount[gPos-2].descripcion+"</p>"),gPos--,$("#controles").animate({width:$('img[src="'+hereCount[gPos-1].src+'"]').outerWidth()},100)),playing&&gRestart()):console.log("Aguarde a que la transición finalice.")}function gPlay(){play=setInterval(gNext,5e3),$("#pbar span").stop(),$("#pbar span").animate({width:"0%"},300),$("#pbar span").animate({width:"100%"},4500),$(".play3").css("display","block"),$(".pause2").css("display","none"),playing=!0}function gStop(){clearInterval(play),$("#pbar span").stop(),$("#pbar span").animate({width:"0"},300),$(".pause2").css("display","block"),$(".play3").css("display","none"),playing=!1}function gRestart(){gStop(),gPlay()}var Device="desktop",windowWidth=$(window).width();comprobarDevice(),$(window).resize(function(){$(this).width()!=windowWidth&&(windowWidth=$(this).width(),comprobarDevice())});var gPos=1,here=""+$("#galyrian").attr("coleccion");""==here&&(here="index");var hereCount;$("#galyrian").html('<div id="fotos"></div><div id="controles"><div id="pbar"><span></span></div><div id="caption"></div><div id="botones"><i onmousedown="gPrev()" class="icon circle-left"></i><div id="reproduccion"><i class="icon play3"></i><i class="icon pause2"></i></div><i onmousedown="gNext()" class="icon circle-right"></i></div></div>'),$(document).ready(function(){hereCount=window[here],void 0==hereCount&&(hereCount=index),$("#fotos").css("width",100*hereCount.length+"%");for(var e=0;e<hereCount.length;e++)$("#fotos").append('<div class="foto"><img src="'+hereCount[e].src+'"></div>'),void 0==hereCount[e].titulo&&(hereCount[e].titulo=""),void 0==hereCount[e].descripcion&&(hereCount[e].descripcion="");setTimeout(function(){$("#controles").animate({width:$('img[src="'+hereCount[gPos-1].src+'"]').outerWidth()},300),$("#controles").animate({left:(gPos-1)*stepLength+($("#galyrian").outerWidth()-$('img[src="'+hereCount[gPos-1].src+'"]').outerWidth())/2},300),"mobile"==Device||"tablet"==Device?$("#botones").css("height",$("#galyrian").outerHeight()+"px"):"desktop"==Device&&$("#botones").css("height","100%"),$("#caption").html("<h2>"+hereCount[gPos-1].titulo+"</h2><p>"+hereCount[gPos-1].descripcion+"</p>")},50)});var stepLength=$("#galyrian").outerWidth();$(window).resize(function(){stepLength=$("#galyrian").outerWidth(),gGoto(gPos),"mobile"==Device||"tablet"==Device?$("#botones").css("height",$("#galyrian").outerHeight()+"px"):"desktop"==Device&&$("#botones").css("height","calc(100% + 5px)")});var playing=!1;if(gPlay(),"mobile"==Device||"tablet"==Device){var hHeader=new Hammer(document.getElementById("galyrian"));hHeader.on("swipeleft",function(){gNext()}),hHeader.on("swiperight",function(){gPrev()}),hHeader.on("tap",function(){$("#reproduccion").stop(),$("#reproduccion").css("opacity","1"),$("#reproduccion").animate({opacity:0},500),playing?(gStop(),$("#caption").css({height:$("#galyrian").outerHeight()+"px",background:"linear-gradient(to bottom, rgba(0,0,0,0.6) 0%,rgba(0,0,0,0) 30%,rgba(0,0,0,0) 70%,rgba(0,0,0,0.6) 100%)"}),$("#caption").animate({opacity:"1"},200)):playing||(gPlay(),$("#caption").css({height:"100%",opacity:"0",background:"none"}))})}"desktop"==Device&&$("#reproduccion").click(function(){$("#reproduccion").stop(),$("#reproduccion").css("opacity","1"),$("#reproduccion").animate({opacity:0},500),playing?gStop():playing||gPlay()});var play;"desktop"==Device&&$("#galyrian").hover(function(){$("#controles").addClass("active")},function(){$("#controles").removeClass("active")});